<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<!-- Mirrored from web.cs.iastate.edu/~cs227/labs/lab8/page06.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Dec 2017 03:11:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
   <title>Writing to a file</title>
   <link rel="stylesheet" href="../navstyle.css" type="text/css" media="screen">
</head>
<body>
<!-- NAVMENU START - do not edit -->
<div id="sidebar"><ol><li><a href="page01.html">Introduction</a></li><li><a href="page03.html">Reading input with System.in</a></li><li><a href="page04.html">Reading from a file</a></li><li><a href="page05.html">The File Class</a></li><li><a href="page06.html">Writing to a file</a></li><li><a href="page07.html">Parsing lines of a file</a></li><li><a href="page08.html">ArrayLists and arrays</a></li><li><a href="page09.html">Reading data</a></li><li><a href="page10.html">Polylines</a></li><li><a href="page11.html">Using an ArrayList</a></li><li><a href="page12.html">Reading a file into an ArrayList</a></li></ol></div>
<div id="main">
<!-- NAVMENU END - do not edit -->

<h2>Writing to a file</h2>

<p>
You've seen how reading text from a file was not very different from reading from <code>System.in</code>. Only the construction of our <code>Scanner</code> changed. Similarly, writing to a text file is not much different from writing to <code>System.out</code>. We use a class called <code>PrintWriter</code>, which has the same methods, such as <code>println</code> and <code>print</code>, as <code>System.out</code>.  We can construct an instance of <code>PrintWriter</code> by specifying the file we want to write to.
</p>

<p>
You can create your own text editor with just a few lines of code.  This program will read from 
<code>System.in</code> and write whatever you type to a file called <code>mydocument.txt</code>:
</p>

<pre class="block">

import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.Scanner;

public class TextEditor
{
  public static void main(String[] args) throws FileNotFoundException
  {
    Scanner in = new Scanner(System.in);
    File outFile = new File("mydocument.txt");
    PrintWriter out = new PrintWriter(outFile);

    // Echo keyboard input out to the file.
    while (in.hasNextLine())
    {
      String line = in.nextLine();
      out.println(line);
    }
    
    System.out.println("Done");
    out.close(); // Important: don't forget to close!
  }
}
</pre>

<p>
Run this code, click in the Console pane, and type a few lines of input.  Hit Control-Z (Control-D on OS X or Linux) to end the input.  Remember you may have to click outside the Console pane and click back for this to work in Eclipse.  If you are using Eclipse, the file should end up in your project directory.  

<p>
Then, find the file using Windows File Explorer (or OS X Finder) and take a look at the it and make sure it has the lines you typed.  (If the file is blank, make sure you remembered to close the <code>PrintWriter</code>.)

<p>
Notice that if named file doesn't already exist, it is created for you when you instantiate the <code>PrintWriter</code>.  However:
<p>
<span style="font-size:24pt;color:red">
BE CAREFUL: if you specify the name of a file that already exists, its contents will be destroyed when
you create the <code>PrintWriter</code>!</span>

<p>
To avoid clobbering an existing file, you can always use the <code>exists()</code>
method of the <code>File</code> class to check whether there is already a file with that name.  For example:

<pre class="block">
    Scanner in = new Scanner(System.in);
    File outFile = new File("mydocument.txt");
    if (outFile.exists())
    {
      System.out.print("File already exists, ok to overwrite (y/n)? ");
      if (!in.nextLine().startsWith("y"))
      {
        return;
      }
    }
</pre>

<!--
<h3>Checkpoint 1</h3>
<ol>
<li>Modify the code for <code>LineNumberer</code> so that it writes the output to a file
instead of writing to <code>System.out</code>.
<li>Modify the code for <code>LineNumberer</code> so that the input file comes from 
a different project, using a relative path to identify it.  For example, run
<code>LineNumberer</code> on the source file <code>Deck.java</code> that was
part of lab 7.
</ol>
-->
<!-- NAVLINKS START - do not edit -->
<p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div>
<div id="footer"><table width="100%"><tr><td align="left"><a href="page05.html">&lt; The File Class</a></td><td align="right"><a href="page07.html">Parsing lines of a file &gt;</a></td></tr></table></div>
<!-- NAVLINKS END - do not edit -->
</body>

<!-- Mirrored from web.cs.iastate.edu/~cs227/labs/lab8/page06.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Dec 2017 03:11:48 GMT -->
</html>
